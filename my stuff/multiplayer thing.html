<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport"content="width=device-width,initial-scale=1"><title>P2P Chat</title><style>body{background:#000;color:#fff;font-family:"Courier New",monospace;margin:0;padding:1rem}#chat{height:80vh;overflow:auto}#msg{width:100%;box-sizing:border-box;padding:.5rem;background:#111;border:none;color:#fff}</style><script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script></head><body><div id="chat"></div><input id="msg" placeholder="Type a message and hit enter..."/><script>var gun=Gun(),user="user"+Math.floor(Math.random()*1e6),chat=gun.get("chatroom");chat.map().on(function(d){if(d){var e=document.createElement("div");e.textContent=d.user+": "+d.text;document.getElementById("chat").appendChild(e);document.getElementById("chat").scrollTop=1e9;}});document.getElementById("msg").addEventListener("keydown",function(e){if(e.key==="Enter"&&this.value){chat.get(Date.now().toString()).put({user:user,text:this.value});this.value="";}});</script></body></html>
